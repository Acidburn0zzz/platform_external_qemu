apply plugin: 'sdk-files'

import com.android.tools.internal.emulator.BuildEmulator

task buildDefaultEmulator(type: BuildEmulator) {
    output = new File(project.buildDir, "default")
}

task buildWindowsEmulator(type: BuildEmulator) {
    output = new File(project.buildDir, "windows")
    windows = true
}

sdk {
    common(mac, linux) {
        path("$buildDefaultEmulator.output/lib") {
            into 'lib'
            builtBy buildDefaultEmulator
        }

        path("$buildDefaultEmulator.output/emulator") {
            executable true
            builtBy buildDefaultEmulator
        }

        path("$buildDefaultEmulator.output/emulator-arm") {
            executable true
            builtBy buildDefaultEmulator
        }
        path("$buildDefaultEmulator.output/emulator64-arm") {
            executable true
            builtBy buildDefaultEmulator
        }

        path("$buildDefaultEmulator.output/emulator-mips") {
            executable true
            builtBy buildDefaultEmulator
        }
        path("$buildDefaultEmulator.output/emulator64-mips") {
            executable true
            builtBy buildDefaultEmulator
        }

        path("$buildDefaultEmulator.output/emulator-x86") {
            executable true
            builtBy buildDefaultEmulator
        }
        path("$buildDefaultEmulator.output/emulator64-x86") {
            executable true
            builtBy buildDefaultEmulator
        }
    }

    windows {
        path("$buildWindowsEmulator.output/lib") {
            into 'lib'
            builtBy buildWindowsEmulator
        }

        path("$buildWindowsEmulator.output/emulator.exe") {
            builtBy buildWindowsEmulator
        }

        path("$buildWindowsEmulator.output/emulator-arm.exe") {
            builtBy buildWindowsEmulator
        }
        path("$buildWindowsEmulator.output/emulator64-arm.exe") {
            builtBy buildWindowsEmulator
        }

        path("$buildWindowsEmulator.output/emulator-mips.exe") {
            builtBy buildWindowsEmulator
        }
        path("$buildWindowsEmulator.output/emulator64-mips.exe") {
            builtBy buildWindowsEmulator
        }

        path("$buildWindowsEmulator.output/emulator-x86.exe") {
            builtBy buildWindowsEmulator
        }
        path("$buildWindowsEmulator.output/emulator64-x86.exe") {
            builtBy buildWindowsEmulator
        }
    }
}

